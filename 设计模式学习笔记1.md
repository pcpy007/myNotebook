

# 设计模式学习笔记1

**2021-05-04**

## 	0 学习设计模式的目的

为了写出高质量的代码。

高质量怎么体现：

1. 可读性
2. 可拓展性
3. 可复用性
4. 可维护性高

怎么达到：

1. 拓展意识
2. 封装意识
3. 抽象意识

## 1 经典的设计模式

### 1.1 总览：经典设计模式有哪些：

1. SOLID：SOLID分别对应五个字母：
      1. SRP，Single Responsibility Principle，单一职责原则
      2. OCP，Open Closed Principle，开闭原则
      3. LSP，Liskov Substitution Principle，里式替换原则
      4. ISP，Interface Segregation Principle，接口隔离原则
      5. DIP，Dependency Inversion Principle，依赖反转原则
2. KISS：尽量保持简单
      1. Keep It Simple and Stupid
      2. Keep It Short and Simple
      3. Keep It Simple and Straightforward
3. YAGNI：You Ain't Gonna Need It，不做过度设计
4. DRY：Don‘t Repeat Youself，不写重复的代码
5. LOD：Low Of Demeter，迪米特法则

### 1.2 每个设计模式的详细介绍

1. 单一职责原则
    1. 是什么（What）：每个类或模块只负责实现一个职责或者功能
    2. 作用（Why）：实现代码高内聚、低耦合，提高复用性、可读性、可拓展性
    3. 怎么实现（How）：设计粒度小、功能单一的类
2. 开闭原则
    1. 是什么：软件实体（模块，类，方法）应该对拓展开放、对修改关闭
    2. 实现目标：添加新功能时，在已有代码上扩展（新增模块、类、方法），而非修改已有代码
    3. 怎么实现：
        1. 指导思想：
            1. 拓展意识、抽象意识、封装意识
            2. 识别出可变代码和不可变代码
            3. 将可变部分封装，隔离变化，提供抽象的不可变接口给上层使用
        2. 具体的方法论：
            1. 多态、依赖注入，基于接口而非实现编程
            2. 装饰者模式、策略模式、模板模式等
        3. 如何在项目中灵活应用开闭原则
            1. 预留拓展点
            2. 事先拓展设计比较确定的、短期内可能拓展的、实现成本不高的拓展点
            3. 延后拓展不确定的、实现负责的拓展点
3. 里式替换原则
    1. 是什么：子类对象能够替换程序中父类对象出现的任何地方，且保证原来程序正确
    2. 和多态的区别：多态是面向对象编程的一大特性、面向对象编程语言的一种语法，一种代码实现思路，而里式替换是一种设计原则，指导继承关系中子类的设计问题
    3. 违反里式原则的例子
        1. 子类违背父类声明要实现的功能
        2. 子类违背父类对输入、输出、异常的约定
        3. 子类违背父类测试中所罗列的任何特殊声明
4. 接口隔离原则
    1. 是什么：接口的调用者不应该强迫依赖它不需要的接口
    2. 与单一职责原则的区别：类似，但接口隔离原则侧重于接口的设计，且可以通过调用者如何使用接口来间接判断（只使用接口的部分功能则说明接口的设计不够单一）
5. 依赖反转原则
    1. 是什么：高层模块不依赖底层模块，通过抽象相互依赖，抽象不依赖具体实现，具体实现细节依赖抽象
6. KISS原则
    1. 是什么：尽量保持简单
    2. 为什么：保持代码可读和可维护
    3. 怎么做：
        1. 不使用同事可能不懂的技术来实现代码
        2. 不要重复造轮子，善于使用已有的工具类库
        3. 不要过度优化
7. YAGNI
    1. 是什么：不做过度设计，指导要不要做
8. DRY
    1. 是什么：不写重复代码
    2. 有哪些代码重复情况
        1. 实现逻辑重复
        2. 功能语义重复
        3. 代码执行重复
    3. 如何提高代码复用性
        1. 减少代码耦合
        2. 满足单一职责原则
        3. 模块化
        4. 业务和非业务逻辑分离
        5. 通用代码下沉
        6. 继承、多态、抽象、封装
        7. 应用模板等设计模式
9. 迪米特法则
    1. 是什么：每个模块只和自己朋友说话，不和陌生人说话。不该有直接依赖关系的类之间不要有依赖，有依赖关系的类之间尽量只依赖必要的接口
    2. 为什么：实现高内聚、低耦合，高内聚是指相近的功能放到一个类中，指导类本身的设计。低耦合是指类之间的依赖关系简单清晰，指导类间依赖关系的设计



以上笔记来源于极客时间，王争-设计模式之美，推荐下载极客时间学习该课程。

未完，待续...

​		

